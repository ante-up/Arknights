import javax.swing.*;

public class Guaranteed
{
    public static void main(String[] args)
    {
        int numberOfPulls = 500000;
        //simulates for the average rate of a 6 star including pity
        double avgSixStarRate = sixStarRateSim();
        int totalFiveStarPulled = 0;
        int totalSixStarPulled = 0;
        for (int i = 0; i < numberOfPulls; i++)
        {
            totalFiveStarPulled += TenPullSim(avgSixStarRate)[0];
            totalSixStarPulled += TenPullSim(avgSixStarRate)[1];
        }
        System.out.println((double) totalFiveStarPulled/numberOfPulls + " five star units summoned per 10 pull");
        System.out.println((double) totalSixStarPulled/numberOfPulls + " six star units summoned per 10 pull");
    }
    public static int[] TenPullSim(double sixStarAvgRate)
    {
        //array with 5*s and 6*s pulled
        int[] rareUnit = new int[2];

        //no of rare units per 10 pull
        int fiveCounter = 0;
        int sixCounter = 0;

        //10 pulls
        for (int j = 0; j < 10; j++)
        {
            if (((int) 100*Math.random())<8)
            {
                fiveCounter++;
            }
            else if (((int) 100*Math.random()>=100-sixStarAvgRate))
            {
                sixCounter++;
            }
            else if (j==9 && fiveCounter==0 && sixCounter == 0)
            {
                fiveCounter++;
            }
        }
        rareUnit[0]=fiveCounter;
        rareUnit[1]=sixCounter;
        return rareUnit;
    }
    public static double sixStarRateSim()
    {
        int sixCounter = 0;
        int pityCounter = 0;
        int iterationNo = 500000;
        for (int i=0; i<iterationNo; i++)
        {
            pityCounter++;
            if (pityCounter>=50) {
                if ((int) 100*Math.random() <= (2 + 2*(pityCounter-49)))
                {
                    sixCounter++;
                    pityCounter = 0;
                }
            }
            else
            {
                if ((int) 100*Math.random() <= 2 )
                {
                    sixCounter++;
                    pityCounter=0;
                }
            }
        }
        double sixStarRate = (double) sixCounter/(iterationNo/100);
        return sixStarRate;
    }
}
